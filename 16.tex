\documentclass[a4paper]{article}

\usepackage{fullpage} % Package to use full page
\usepackage{parskip} % Package to tweak paragraph skipping
\usepackage{tikz} % Package for drawing
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{tikz-qtree}

\title{Greedy Algorithms}

\begin{document}
\maketitle

\section*{16.1 An activity-selection problem}
Suppose we have a set $S={a_1,a_2, \dots, a_n}$ of $n$ proposed activities that wish to use a resource, such as a lecture hall, which can serve only one activity at a time. Each activity $a_i$ has a start time $s_i $ and a finish time $f_i$. Activities $a_i$ and $a_j$ are compatible if the intervals do not overlap. In the activity-selection problem, we wish to select a \color{red}maximum-size \color{black} subset of mutually compatible activities. We assume that the activities are sorted in monotonically increasing order of finish time: $f_1\leq f_2 \leq f_3 \leq \dots \leq f_{n-1} \leq f_n$.
\subsection*{Optimal substructure property}
Given an optimal solution $A\subseteq S$, remove an activity $k$ with earliest finish time $f_k$, then $A-\{k\}$ is an optimal solution to $S-\{i:s_i < f_k\}, 1\leq i\leq n$.\\
Proof (Contradiction): Assume $A-\{k\}$ is not an optimal solution to the sub-problem $S-\{i:s_i < f_k\}, 1\leq i\leq n$, but $B$ is an optimal solution to this sub-problem.\\
So $|B|>|A-\{k\}|=|A|-1$.\\
Consider a subset $A'\subseteq S$ such that $A'=B\cup \{k\}$, then $|A'|=|B|+1>|A|-1+1=|A|$.\\
So $A'$ is a solution to $S$ with more activities than $A$, this leads to a contradiction that $A$ is an optimal solution. 

\subsection*{Greedy Choice}
The activity with earliest finish time is in an optimal solution.\\
Proof: Without loss of generality, assume the activity with the earliest finish time is $1$.\\
Consider any optimal solution to $S$ is $A=\{i_i, i_2,\dots, i_p\}, i_j =1,2,\dots, n$.\\
It's clear that $f_{i_j} \geq f_1$, for all $j=1,2,\dots,p$.\\
If replace $i_1$ with the activity $1$, that is $A'= \{1, i_2, \dots, i_p\}$. It is also an optimal solution because these activities are compatible and $|A'|=p=|A|$.

\subsection*{Solution}
Apply GC: remove the activity with the earliest finish time.\\
Apply OS: new subset.\\
Recursivly apply GC and OS.

\section*{16.2 Elements of the greedy strategy}
\section*{16.3 Huffman codes}
\subsection*{Optimal Substructure property}
$$
w(T)=\sum_{a\in \{\text{leaves of }T\}}{(d_a \cdot f_a)}
$$
Let $T$ be Optimal Tree for the weights $w_1+w_2,w_3\ldots,w_n$ where $w_1\leq w_2\leq w_3\leq \cdots \leq w_n$. At the leaf $w_1+w_2$ place a (complete) binary tree of height $1$, and assign the weights $w_1$ and $w_2$ to the children of the former leaf. Then the new binary tree $T_1$ is Optimal Tree for the weights $w_1, w_2, w_3, \ldots , w_n$. \\

Proof:\\
Let $T_2$ be an Optimal Tree for $w_1, w_2, w_3, \ldots , w_n$, where the leaves for weight $w_1, w_2$ are siblings. Remove leaves with $w_1, w_2$ and assign their parent $w_1+w_2$ make the parent a leaf. Denote the new tree by $T_3$.
\begin{align*}
    w(T_2) &= w(T_3)+w_1+w_2\\
    w(T_1) &= w(T)+w_1+w_2&\hfill \text{since $T$ was optimal} \\
    &w(T)\leq w(T_3)&\hfill \text{If $w(T) < w(T_3)$}\\
    \Rightarrow &w(t_1)-(w_1+w_2)=w(T)<w(T_3)=w(T_2)-(w_1+w_2)\\
    \Rightarrow &w(T_1) < w(T_2)\\
    &\text{Contradicts to $T_2$ is Optimal Tree for $w_1,w_2,\ldots,w_n$}\\
    \Rightarrow &w(T)=w(T_3)\\
    \Rightarrow & w(T_1)-(w_1+w_2) = w(T)=w(T_3)=w(T_2)-(w_1+w_2)\\
    \Rightarrow&w(T_1)=w(T_2)\\
    \Rightarrow&\text{Therefore $T_1$ is also Optimal Tree for $w_1,w_2,\ldots, w_n$.}
\end{align*}

\end{document}